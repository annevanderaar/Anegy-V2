import{_ as C,m as B,o as y,c as g,w as n,r as b,z as S,g as E,A as V,j as D,a,B as f,b as e,T as p,C as h,n as $,u as i,f as U,E as T,G as v,v as N,e as z,t as c,d as _,H as I,I as K,i as M}from"./app-d2cccad7.js";import{_ as W,a as j,b as F}from"./TextInput-30f922a8.js";import{S as L}from"./SecondaryButton-44d36cc2.js";const A={};function G(l,d){const s=B("v-btn");return y(),g(s,{color:"secondary"},{default:n(()=>[b(l.$slots,"default")]),_:3})}const x=C(A,[["render",G]]),H={class:"fixed inset-0 overflow-y-auto px-4 py-6 sm:px-0 z-50"},O=e("div",{class:"absolute inset-0 bg-gray-500 opacity-75"},null,-1),P=[O],q={__name:"Modal",props:{show:{type:Boolean,default:!1},maxWidth:{type:String,default:"2xl"},closeable:{type:Boolean,default:!0}},emits:["close"],setup(l,{emit:d}){const s=l;S(()=>s.show,()=>{s.show?document.body.style.overflow="hidden":document.body.style.overflow=null});const t=()=>{s.closeable&&d("close")},u=r=>{r.key==="Escape"&&s.show&&t()};E(()=>document.addEventListener("keydown",u)),V(()=>{document.removeEventListener("keydown",u),document.body.style.overflow=null});const m=D(()=>({sm:"sm:max-w-sm",md:"sm:max-w-md",lg:"sm:max-w-lg",xl:"sm:max-w-xl","2xl":"sm:max-w-2xl"})[s.maxWidth]);return(r,o)=>(y(),g(T,{to:"body"},[a(p,{"leave-active-class":"duration-200"},{default:n(()=>[f(e("div",H,[a(p,{"enter-active-class":"ease-out duration-300","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"ease-in duration-200","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:n(()=>[f(e("div",{class:"fixed inset-0 transform transition-all",onClick:t},P,512),[[h,l.show]])]),_:1}),a(p,{"enter-active-class":"ease-out duration-300","enter-from-class":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to-class":"opacity-100 translate-y-0 sm:scale-100","leave-active-class":"ease-in duration-200","leave-from-class":"opacity-100 translate-y-0 sm:scale-100","leave-to-class":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:n(()=>[f(e("div",{class:$([i(m),"mb-6 bg-white rounded-lg overflow-hidden shadow-xl transform transition-all sm:w-full sm:mx-auto"])},[l.show?b(r.$slots,"default",{key:0}):U("",!0)],2),[[h,l.show]])]),_:3})],512),[[h,l.show]])]),_:3})]))}},J={class:"mt-2 mb-4"},Q={class:"mt-1 mb-4"},R={class:"p-6"},X={class:"text-lg font-medium text-gray-900"},Y={class:"mt-1 text-sm text-gray-600"},Z={class:"mt-6"},ee={class:"mt-6 flex justify-end"},oe={__name:"DeleteUserForm",setup(l){const d=v(!1),s=v(null),t=N({password:""}),u=()=>{d.value=!0,K(()=>s.value.focus())},m=()=>{t.delete(M("profile.destroy"),{preserveScroll:!0,onSuccess:()=>r(),onError:()=>s.value.focus(),onFinish:()=>t.reset()})},r=()=>{d.value=!1,t.reset()};return(o,w)=>(y(),z("section",null,[e("header",null,[e("h2",J,c(o.$t("auth.profile.delete_account")),1),e("p",Q,c(o.$t("auth.profile.delete_data")),1)]),a(x,{class:"mb-4",onClick:u},{default:n(()=>[_(c(o.$t("auth.profile.delete_account")),1)]),_:1}),a(q,{show:d.value,onClose:r},{default:n(()=>[e("div",R,[e("h2",X,c(o.$t("auth.profile.sure")),1),e("p",Y,c(o.$t("auth.profile.delete_data")),1),e("div",Z,[a(W,{value:o.$t("auth.login.password"),for:"password",class:"sr-only"},null,8,["value"]),a(j,{id:"password",ref_key:"passwordInput",ref:s,modelValue:i(t).password,"onUpdate:modelValue":w[0]||(w[0]=k=>i(t).password=k),type:"password",class:"mt-1",placeholder:"Password",onKeyup:I(m,["enter"])},null,8,["modelValue","onKeyup"]),a(F,{message:i(t).errors.password},null,8,["message"])]),e("div",ee,[a(L,{onClick:r},{default:n(()=>[_(c(o.$t("auth.login.cancel")),1)]),_:1}),a(x,{class:$([{"opacity-25":i(t).processing},"ml-3"]),disabled:i(t).processing,onClick:m},{default:n(()=>[_(c(o.$t("auth.profile.delete_account")),1)]),_:1},8,["class","disabled"])])])]),_:1},8,["show"])]))}};export{oe as default};
