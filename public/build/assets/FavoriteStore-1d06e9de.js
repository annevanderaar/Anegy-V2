import{s as h,L as d,x as s}from"./app-80abdd10.js";const l=h("favorite",{state:()=>({data:[],favorites:[],languageStore:d(),refresh:!1}),actions:{getFavorites(e){this.favorites=[],this.data=[],s({method:"PATCH",url:route("api.favorites.all",{id:e})}).then(t=>{t.data.length>0&&t.data.forEach(a=>{this.favorites.push(a.ms_id),this.getDetails(`/${a.type}/${a.ms_id}`)})})},getDetails(e){s({method:"POST",url:route("api.details"),data:{url:e,language:this.languageStore.tmdb}}).then(t=>{this.data.push(t.data)})},createFavorite(e,t,a,r,o){let i="";r?i="person":o?i="tv":a||(i="movie"),s({method:"POST",url:route("api.favorites.store"),data:{user_id:e,ms_id:t,type:i}}).then(()=>{this.refresh=!this.refresh})},deleteFavorite(e,t){s({method:"PUT",url:route("api.favorites.delete"),data:{user_id:e,ms_id:t}}).then(()=>{this.refresh=!this.refresh})},getLatestFavorite(e){this.favorites=[],this.data=[],s({method:"PUT",url:route("api.favorites.latest",{id:e})}).then(t=>{t.data&&(this.favorites.push(t.data.ms_id),this.getDetails(`/${t.data.type}/${t.data.ms_id}`))})}}});export{l as F};
