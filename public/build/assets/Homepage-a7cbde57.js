import{_ as l,k as g,L as d,D as h,S as c,J as p,m as t,o as u,e as m,a,b as S,t as f,F as v}from"./app-80abdd10.js";import{F as _}from"./FavoriteStore-1d06e9de.js";import{C as P}from"./Cards-ff8f1c11.js";import{P as b}from"./PageHeader-704dd47d.js";const F=g({name:"Homepage",components:{PageHeader:b,Cards:P},data(){return{languageStore:d(),dataStore:h(),searchStore:c(),favoriteStore:_()}},computed:{data(){return this.dataStore.data},page(){return this.dataStore.page},translate(){return this.languageStore.translate},user(){return p().props.auth.user},refresh(){return this.favoriteStore.refresh},mobile(){return this.$vuetify.display.mobile}},methods:{scroll(){window.scrollTo({top:0,behavior:"smooth"})},getFavorites(){this.user&&this.favoriteStore.getFavorites(this.user.id)}},watch:{page(e){localStorage.currentPage=e,this.searchStore.searching?(this.searchStore.searchPage=e,this.searchStore.getSearch()):(this.dataStore.page=e,this.dataStore.getDiscover()),this.scroll()},translate(){this.dataStore.getDiscover()},refresh(){this.getFavorites()}},mounted(){localStorage.currentPage&&(this.dataStore.page=parseInt(localStorage.currentPage)),this.dataStore.url="/trending/all/day?",this.dataStore.getDiscover(),this.getFavorites()}}),$={class:"mb-5 text-center"};function y(e,r,C,D,H,V){const o=t("PageHeader"),s=t("Cards"),i=t("v-pagination");return u(),m(v,null,[a(o,{title:e.$t("homepage.title")},null,8,["title"]),S("h1",$,f(e.$t("homepage.trending_title")),1),a(s,{results:e.data.results},null,8,["results"]),a(i,{modelValue:e.dataStore.page,"onUpdate:modelValue":r[0]||(r[0]=n=>e.dataStore.page=n),length:e.dataStore.totalPages,"total-visible":e.mobile?4:10,color:"secondary",class:"my-4"},null,8,["modelValue","length","total-visible"])],64)}const N=l(F,[["render",y]]);export{N as default};
