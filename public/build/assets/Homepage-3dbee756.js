import{_ as l,k as g,L as d,D as h,S as c,J as p,o as u,e as m,a as t,b as S,t as f,F as v,m as a}from"./app-d2cccad7.js";import{F as _}from"./FavoriteStore-09c9ff19.js";import{C as P}from"./Cards-94a731ea.js";import{P as F}from"./PageHeader-5441aea8.js";const C=g({name:"Homepage",components:{PageHeader:F,Cards:P},data(){return{languageStore:d(),dataStore:h(),searchStore:c(),favoriteStore:_()}},computed:{data(){return this.dataStore.data},page(){return this.dataStore.page},translate(){return this.languageStore.translate},user(){return p().props.auth.user},refresh(){return this.favoriteStore.refresh}},methods:{scroll(){window.scrollTo({top:0,behavior:"smooth"})},getFavorites(){this.user&&this.favoriteStore.getFavorites(this.user.id)}},watch:{page(e){localStorage.currentPage=e,this.searchStore.searching?(this.searchStore.searchPage=e,this.searchStore.getSearch()):(this.dataStore.page=e,this.dataStore.getDiscover()),this.scroll()},translate(){this.dataStore.getDiscover()},refresh(){this.getFavorites()}},mounted(){localStorage.currentPage&&(this.dataStore.page=parseInt(localStorage.currentPage)),this.dataStore.url="/trending/all/day?",this.dataStore.getDiscover(),this.getFavorites()}}),D={class:"mb-5 text-center"};function $(e,r,H,V,b,y){const o=a("PageHeader"),s=a("Cards"),n=a("v-pagination");return u(),m(v,null,[t(o,{title:e.$t("homepage.title")},null,8,["title"]),S("h1",D,f(e.$t("homepage.trending_title")),1),t(s,{results:e.data.results},null,8,["results"]),t(n,{modelValue:e.dataStore.page,"onUpdate:modelValue":r[0]||(r[0]=i=>e.dataStore.page=i),length:e.dataStore.totalPages,"total-visible":10,color:"secondary",class:"my-4"},null,8,["modelValue","length"])],64)}const N=l(C,[["render",$]]);export{N as default};
