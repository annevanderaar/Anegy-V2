import{_ as C,k as $,J as F,x as b,o,e as f,F as x,p as S,c,w as r,a as s,b as v,d,t as n,f as D,m as a}from"./app-d2cccad7.js";import{F as N}from"./FavoriteStore-09c9ff19.js";const T=$({name:"Cards",props:{results:{type:Object,required:!0}},data(){return{msType:"",favoriteStore:N()}},computed:{user(){return F().props.auth.user}},methods:{getUrl(e){const l="https://image.tmdb.org/t/p/w500";return e.profile_path?l+e.profile_path:e.poster_path?l+e.poster_path:"http://via.placeholder.com/1080x1580"},getColor(e){return e>=7.5?"green":e>=5?"orange":e>=0?"red":"accent"},getDate(e){return new Date(e).toLocaleDateString("nl-NL",{year:"numeric",month:"long",day:"numeric"})},getHref(e){if(e.media_type==="movie"||e.video===!1)return`/movies/details/${e.id}`;if(e.media_type==="person"||e.known_for_department)return`/people/${e.id}`;if(e.media_type==="tv"||e.name)return`/series/details/${e.id}`},getText(e){if(e.media_type==="person"||e.known_for_department)return this.$t("cards.known_for")+": "+e.known_for_department;if(e.overview)return e.overview},createFavorite(e,l,i,p){if(this.user){this.favoriteStore.createFavorite(this.user.id,e,l,i,p);return}b().warning(this.$t("favorites.need_account"))}}}),B={class:"d-flex flex-wrap justify-center"},V={class:"d-flex justify-space-between"};function j(e,l,i,p,L,H){const h=a("v-img"),g=a("v-card-title"),w=a("v-avatar"),y=a("v-card-subtitle"),k=a("v-card-text"),_=a("v-btn"),u=a("v-card");return o(),f("div",B,[(o(!0),f(x,null,S(e.results,t=>(o(),c(u,{key:t.id,class:"card ma-4",elevation:"4",width:"300"},{default:r(()=>[s(h,{src:e.getUrl(t)},null,8,["src"]),v("div",V,[s(g,{class:"text-wrap title"},{default:r(()=>[d(n(t.title?t.title:t.name),1)]),_:2},1024),s(w,{color:e.getColor(t.vote_average),class:"ma-2 text-white"},{default:r(()=>[d(n(t.vote_average>=0?t.vote_average.toFixed(1):"P"),1)]),_:2},1032,["color"])]),s(u,{class:"overview"},{default:r(()=>[t.release_date||t.first_air_date?(o(),c(y,{key:0,class:"text-wrap"},{default:r(()=>[v("strong",null,n(t.release_date?e.$t("cards.release_date"):e.$t("cards.first_air_date"))+":",1),d(" "+n(t.release_date?e.getDate(t.release_date):e.getDate(t.first_air_date)),1)]),_:2},1024)):D("",!0),s(k,null,{default:r(()=>[d(n(e.getText(t)),1)]),_:2},1024),s(_,{href:e.getHref(t),elevation:"0",color:"accent",class:"ml-2"},{default:r(()=>[d(n(e.$t("cards.more")),1)]),_:2},1032,["href"]),e.favoriteStore.favorites.includes(t.id)?(o(),c(_,{key:1,class:"ml-1",variant:"text",icon:"mdi-heart",color:"secondary",onClick:m=>e.favoriteStore.deleteFavorite(e.user.id,t.id)},null,8,["onClick"])):(o(),c(_,{key:2,class:"ml-1",variant:"text",icon:"mdi-heart-outline",color:"secondary",onClick:m=>e.createFavorite(t.id,t.video,t.known_for_department,t.first_air_date)},null,8,["onClick"]))]),_:2},1024)]),_:2},1024))),128))])}const q=C(T,[["render",j],["__scopeId","data-v-371af296"]]);export{q as C};
