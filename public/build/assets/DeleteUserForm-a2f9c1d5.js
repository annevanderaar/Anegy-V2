import{_ as C,m as B,o as v,c as g,w as n,r as b,E as S,g as E,G as V,j as D,a as o,z as p,b as s,T as h,A as _,n as $,f as U,H as T,K as w,v as M,e as N,t as r,d as y,u,B as z,M as K,i as W}from"./app-80abdd10.js";import{_ as j,a as F,b as I}from"./TextInput-957214bd.js";import{S as L}from"./SecondaryButton-15f2c996.js";const A={};function G(l,c){const t=B("v-btn");return v(),g(t,{color:"secondary"},{default:n(()=>[b(l.$slots,"default")]),_:3})}const x=C(A,[["render",G]]),H={class:"fixed inset-0 overflow-y-auto px-4 py-6 sm:px-0 z-50"},O=s("div",{class:"absolute inset-0 bg-gray-500 opacity-75"},null,-1),P=[O],q={__name:"Modal",props:{show:{type:Boolean,default:!1},maxWidth:{type:String,default:"2xl"},closeable:{type:Boolean,default:!0}},emits:["close"],setup(l,{emit:c}){const t=l,a=c;S(()=>t.show,()=>{t.show?document.body.style.overflow="hidden":document.body.style.overflow=null});const m=()=>{t.closeable&&a("close")},i=e=>{e.key==="Escape"&&t.show&&m()};E(()=>document.addEventListener("keydown",i)),V(()=>{document.removeEventListener("keydown",i),document.body.style.overflow=null});const d=D(()=>({sm:"sm:max-w-sm",md:"sm:max-w-md",lg:"sm:max-w-lg",xl:"sm:max-w-xl","2xl":"sm:max-w-2xl"})[t.maxWidth]);return(e,f)=>(v(),g(T,{to:"body"},[o(h,{"leave-active-class":"duration-200"},{default:n(()=>[p(s("div",H,[o(h,{"enter-active-class":"ease-out duration-300","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"ease-in duration-200","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:n(()=>[p(s("div",{class:"fixed inset-0 transform transition-all",onClick:m},P,512),[[_,l.show]])]),_:1}),o(h,{"enter-active-class":"ease-out duration-300","enter-from-class":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to-class":"opacity-100 translate-y-0 sm:scale-100","leave-active-class":"ease-in duration-200","leave-from-class":"opacity-100 translate-y-0 sm:scale-100","leave-to-class":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:n(()=>[p(s("div",{class:$([d.value,"mb-6 bg-white rounded-lg overflow-hidden shadow-xl transform transition-all sm:w-full sm:mx-auto"])},[l.show?b(e.$slots,"default",{key:0}):U("",!0)],2),[[_,l.show]])]),_:3})],512),[[_,l.show]])]),_:3})]))}},J={class:"mt-2 mb-4"},Q={class:"mt-1 mb-4"},R={class:"p-6"},X={class:"text-lg font-medium text-gray-900"},Y={class:"mt-1 text-sm text-gray-600"},Z={class:"mt-6"},ee={class:"mt-6 flex justify-end"},oe={__name:"DeleteUserForm",setup(l){const c=w(!1),t=w(null),a=M({password:""}),m=()=>{c.value=!0,K(()=>t.value.focus())},i=()=>{a.delete(W("profile.destroy"),{preserveScroll:!0,onSuccess:()=>d(),onError:()=>t.value.focus(),onFinish:()=>a.reset()})},d=()=>{c.value=!1,a.reset()};return(e,f)=>(v(),N("section",null,[s("header",null,[s("h2",J,r(e.$t("auth.profile.delete_account")),1),s("p",Q,r(e.$t("auth.profile.delete_data")),1)]),o(x,{class:"mb-4",onClick:m},{default:n(()=>[y(r(e.$t("auth.profile.delete_account")),1)]),_:1}),o(q,{show:c.value,onClose:d},{default:n(()=>[s("div",R,[s("h2",X,r(e.$t("auth.profile.sure")),1),s("p",Y,r(e.$t("auth.profile.delete_data")),1),s("div",Z,[o(j,{value:e.$t("auth.login.password"),for:"password",class:"sr-only"},null,8,["value"]),o(F,{id:"password",ref_key:"passwordInput",ref:t,modelValue:u(a).password,"onUpdate:modelValue":f[0]||(f[0]=k=>u(a).password=k),type:"password",class:"mt-1",placeholder:"Password",onKeyup:z(i,["enter"])},null,8,["modelValue"]),o(I,{message:u(a).errors.password},null,8,["message"])]),s("div",ee,[o(L,{onClick:d},{default:n(()=>[y(r(e.$t("auth.login.cancel")),1)]),_:1}),o(x,{class:$([{"opacity-25":u(a).processing},"ml-3"]),disabled:u(a).processing,onClick:i},{default:n(()=>[y(r(e.$t("auth.profile.delete_account")),1)]),_:1},8,["class","disabled"])])])]),_:1},8,["show"])]))}};export{oe as default};
